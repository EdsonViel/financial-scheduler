<nz-page-header class="page-header" nzTitle="Agendar Transferência"></nz-page-header>
<ng-container class="page-content">
  <form nz-form [formGroup]="form">
    <nz-form-item>
      <nz-form-control [nzSpan]="8">
        <nz-form-label>Valor em R$</nz-form-label>
        <nz-input-number class="input-component" nzPlaceHolder="R$" formControlName="amount" nzStep="0.01" nzMin="0" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control [nzSpan]="8">
        <nz-form-label>Conta de Origem</nz-form-label>
        <nz-select class="input-component" nzShowSearch nzAllowClear nzPlaceHolder="Origem" formControlName="sourceAccountId" (ngModelChange)="readAccountsExcluding($event)">
          @for(account of accounts; track account; let i = $index) {
            <nz-option [nzLabel]="account.accountNumber" [nzValue]="account.id"></nz-option>
          }
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control [nzSpan]="8">
        <nz-form-label>Conta de Destino</nz-form-label>
        <nz-select class="input-component" nzShowSearch nzAllowClear nzPlaceHolder="Destino" formControlName="destinationAccountId">
          @for(account of accountsExcluding; track account; let i = $index) {
            <nz-option [nzLabel]="account.accountNumber" [nzValue]="account.id"></nz-option>
          }
        </nz-select>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control [nzSpan]="8">
        <nz-form-label>Data da Transferência</nz-form-label>
        <nz-date-picker class="input-component" formControlName="scheduledDate" nzPlaceHolder="Selecione a data" [nzFormat]="'dd/MM/yyyy'"/>
      </nz-form-control>
    </nz-form-item>
    <nz-form-control [nzSpan]="8">
      <div class="btn-wappers" nz-flex nzJustify="space-evenly" nzAlign="center">
        <button nz-button nzType="default" (click)="back()" >Cancelar</button>
        <button nz-button nzType="primary" (click)="save(form.value)" [disabled]="!form.valid">Salvar</button>
      </div>
    </nz-form-control>
  </form>

</ng-container>
